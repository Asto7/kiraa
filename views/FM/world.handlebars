<input style="display: none;" id="user" value="{{User}}">

{{#each FM}}


  <div class="card card-body mb-2">
  
  <div onclick="flip()" data-imp="{{_id}}" style='cursor:pointer; position:absolute; right:0;top:1em; width:4em; margin-right:1em; font-size:0.9em; font-family:`Times New Roman`, Times, serif; letter-spacing:0.1em;' class='badge badge-success'><span id="rate">{{rate}}</span><i class="fa fa-star-o" aria-hidden="true"></i></div>    
    <h4>{{title}}</h4>
    <p>{{details}}</p>
    <p>Made with ‚ù§ by:~ <span style="color: crimson;">{{user}}</span></p>

    <div style="display:flex; justify-content:space-between;"class="">
    {{#ifEquals user me}}
          <a class="btn btn-dark  mb-2" style='background-color:#123C69; height:20%; width:49%; display:inline; float:left;' href="/FM/visit1/{{id}}">Visit</a>
          <a class="btn btn-dark  mb-2" style='background-color:#343A40; height:20%; width:49%; display:inline; float:right;' href="/FM/delet1/{{id}}">Delete</a>
    {{else}}
          <a class="btn btn-dark  mb-2" style='background-color:#123C69; height:20%; width:100%; display:inline; float:left;' href="/FM/visit1/{{id}}">Visit</a>

    {{/ifEquals}}
    </div>
    
  </div>

{{else}}
  <p>No Code Shared so far</p>
{{/each}}

<script>

function flip(){
 
let reason=event.currentTarget;

 var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
       reason.querySelector('#rate').innerHTML=xhttp.responseText;
    }
};
let b=event.currentTarget.getAttribute("data-imp");
let a=document.getElementById("user").value;
console.log(a)
  xhttp.open("GET", "star?a="+a+"&b="+b, true);
  xhttp.send();




}



</script>